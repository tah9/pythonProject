import json

import pymysql
import requests
import re


# 爬取所有食材名称,打印出来后赋值给names数组
result=[]

def getOnePage(start):
    for i in range(1,11):
        html = requests.get(start+'?page=' +str(i)).text
        # 使用正则过滤
        temp=re.findall(('<a href=\\\'/shiwu/(.*?)\\\' target'),html)
        for name in temp:
            result.append(name)
def getAllname():
    for i in range(1,11):
        start='http://www.boohee.com/food/group/'+str(i)
        getOnePage(start)
getAllname()
getOnePage('http://www.boohee.com/food/view_menu')
print(result)
names=result
# 食材名称
names=['jingmizhou', 'xianmizhou', 'yumi_xian', 'yanmaipian', 'miantiao_junzhi', 'miantiao_fuqiangfen_zhu', 'xianmifen', 'mianbao_junzhi', 'ganshu_hongxin', 'xiaomizhou', 'malingshu', 'baozi_zhurouxian', 'mifan_zheng', 'ganshu_baixin', 'daomi_junzhi', 'maipeimianbao', 'laobing_biaozhunfen', 'huajuan', 'youtiao', 'mankedunquanmaigaoxianweimianbao2', 'shengmingmaibaopaiquanmaiqiepianmianbao', 'baozi_sanxianxian', 'mantou_junzhi', 'youbing', 'hanbaobao_putongxing_jiaroubing_jiadiaoliaojiangheshucai', 'zishu', 'mifen', 'huangyoumianbao', 'fangbianmian', 'guoliaomianbao', 'chixiaodou', 'fashipeicanmianbao', 'shaobing_jiatang', 'lvdou', 'yimi', 'fensi', 'miantiao_biaozhunfen_qiemian', 'maiweimianbao', 'niangao', 'maipian', 'fashiniujiaomianbao', 'hongshaoniuroufangbianmian_mianbingdiaoweiliaoshucairoujiang', 'ganlaohanbaobao_putongxing_jianailao_shuangcengroubing_shuangcengmianbao_jiadiao', 'shanyao', 'shijinchaofan', 'yutou', 'putaoganmianbao', 'xianmianbao', 'heizhimatangyuan', 'heimi', 'yutou_zhu', 'duoweimianbao', 'xiaomaifen_biaozhunfen', 'aozhouyanmaipian', 'yumimian_huang', 'guamian_junzhi', 'fentiao', 'bisabing_jianailao_rouheshucai', 'fd46d808', 'maidanglaojishihanbao', 'chaojimaipianbujiazhetangmaipian', 'malitongxinfen148hao', 'xiaomaipeifen', 'baiweilaidaizhuanghudieyidalitongxinfen', 'molizhishenyidalimian', 'dizhiqisupi', 'wuguxiang', 'longgangdijinmianfen', 'jiazhixuanpaiyaozhumian', 'zaozaomaishuiguoyanmaipian_pingguoputaokouwei', 'maidanglaoyuanweibanshaojituibao', 'caomi_weizheng', 'yumi_bai_gan', 'maidanglaojishidanbao_zaocan', 'jiaozi_zhurouhuixiangxian', 'yumisan_huang', 'fd8f98dd', 'fd79c794', 'fd352c04', 'fdc6c0b5', 'fd111062', 'fd5c2fad', 'nuomi_junzhi', 'malingshufen', 'baomihua', 'wandou', 'yumi_huang_gan', 'jiaozi_zhurouxiangguxian', 'xiaomi', 'dingweijidanmian', 'maliyamamazaocanmaipian', 'lianhuadijinmianfen', 'binbaotiannaiyouqiepianmianbao', 'chenkemingkeaibaobaohuluobogua', 'PastahiZarachuleyidalimian_hi1', 'Goldenhi90quanmaitusi', 'maiayidandanmian', 'wanjiaozhounongzhuangtenongniu', 'binbaoyuanshengheimaiqiepianmi', 'jinfenxianggangquandanmian_fei', 'chaoqingcai', 'fanqiechaodan', 'qingzhengjidangeng', 'lvdoutang', 'suchaoxiaobaicai', 'shaoqiezi', 'lvdouzhou', 'xiangguqingcaibaozi', 'danchaofan', 'hongshaoyu', 'zihongnuomi', 'xiangmi', 'xiangdami', 'younuomi', 'jingmi_biaoyi', 'sanquanchaiyuhuashengzhou', 'jingmifan_zheng', 'xianmifan_zheng', 'jingmi_biaoer', 'jinyushanpaitaiguoxiangmi', 'caoyu', 'jidan_tuji', 'jidan_baipi', 'jidan_hongpi', 'jitui', 'jiangniurou', 'yuwan', 'xiangchang', 'kendejishunzhiyuanweiji', 'jiyu', 'jidizhou', 'tingzizhou', 'chaiyuhuashengzhou', 'tongyiyoujicaomi', 'jitiandaowudongmian', 'xiyunnianhuoguoniangao', 'yikanghanshiniangao', 'deguoTippaihiyinduxiangmi', 'Oriental-Foodnuomifen', 'mitusi', 'taiwanlvyuanbaoxuanmifen', 'MhillerhiRicehiyuanweinaiyoudo', 'zhanmifen', 'anlailimifen', 'xianrouzong', 'gulvnongpinyoujiheimi', 'shuangyanpaijiangmenpaifen', 'Mhillerxiangcaoweinaiyoudongmi', 'yuenanSafocomizhi_mifenchunjua', 'PANERISObaimimianbao', 'sanquanpidanshourouzhou', 'shimishoutaizhenyingyangzonghe', 'yupinhuangAjitaiguoxiangmi', 'mudanyuanmi', 'BIOshengtaixiaomi', 'K-Classicniunaimi', 'hongmi', 'wellyouchanglidamihunheyesheng', 'caomi_shu', 'sanxiangpaishuimonuomifen', 'shiercaomi_sheng', 'guangxintaiguoxianyingmi', 'xianmi', 'NISSUIhijiangzhifantuan', 'guangzhoupantangshuangxilongch', 'aolaikeguihualianoufen', 'beidimiaochudangaoyubanfen_jin', 'huirunmoyusi', 'ASDAhongshu', 'fulongjiebaizhanmifen', 'longxupaihongshufentiao', 'sinianmizhihongzaobao', 'beidimiaochusongbingyubanfen_B', 'ganshupian', 'yagan', 'jigan', 'luyu', 'duixia', 'haizhepi', 'xiaohongchang', 'manyu_hongshao', 'yadanhuang', 'kaliniurougan', 'zhupi2', 'zhudagutou', 'xianrou', 'lianyu', 'jixin', 'haixia', 'yangrou_shou', 'longxia', 'bayu', 'huotuixinquanjingrou', 'huangshan', 'suannai_junzhi', 'niuru_junzhi', 'fdbb1893', 'nailao', 'suannai_zhongzhi', 'tuozhinaifen', 'suannai_diaowei', 'suannai_guoliao', 'suannai_guoli', 'mengniugaogainiunai', 'guangmingeyishengjunsuanniunai_yuanwei', 'zaocannai', 'suannai_gaodanbai', 'naipian', 'quanzhiniunaifen', 'fded1a79', 'fd962a6c', 'fd460d85', 'fdb14fc7', 'fdb47466', 'fd458bc8', 'niuru_qianghuaVA_VD', 'guangmingdizhiniunai', 'mengniusuanniunaimutangchun', 'dizhinailao', 'yiliwuzhetangsuanniunai', 'mengniusuanniunai_caomeishumeiguoli', 'guangmingjianzhi90tuozhixianniunai', 'yiliyoupinjiarenyoulaoru_yuanwei', 'guangmingchangyouhongzaoyanmaidizhisuannai', 'guangmingluhuisuannai', 'yilisuanniunai', 'quanzhisurongnaifen', 'quechaogaogaigaotienaifen', 'yilidaguolisuanniunai', 'nailao_guangmingpai', 'yiliyoupinjiarenyoulaoru', 'guangmingyouhigaopinzhiniunai', 'niuru_wandashanpai', 'mengniuguanyirutepinsuanniunaiyuanwei', 'quanzhijiatangnaifen', 'mengniucaomeiweisuanniunai', 'quechaopaigaoxiangaogainaifen', 'weiquanyoulaoru_yuanwei', 'mengniuguanyirutepinsuanniunaimutangchunwei', 'yiliyoulaoru_youpinjiaren_huanyanlanmei', 'dizhinaifen_gaogaigaotie_yilipai', 'yilichangqingsuannaihuangtaoguoli', 'mengniuyuanweisuanniunai', 'niurufen_duoweinaifen', 'niunai_qiaokeliwei_kafupai', 'faguobaijifudizhizhishipian', 'junlebaodongfangzhiweihongzaosuanniunai', 'yilichangqingsuannaicaomeiguoli', 'niunai_qiaokeliwei_sanyuanpai', 'quanzhitianlianru_quechao', 'guangmingwuzhetangsuannai_tongzhuang', 'nailao_qishipai', 'guangmingchangyouyoulaorusuanniunaiyuanwei', 'yilidaguolisuanniunai_lvchajuruoyeguo', 'guangmingjianzhi90xianniunai', 'junlebaogaogaiwuzhetangsuanniunai', 'xueshengnai', 'yinqiaoyishengjunsuanniunai', 'yiliABLSyishengjunsuanniunaihiwuzhetang', 'guangmingchangyoudizhiqingtiguolisuannai', 'yilimiaozhixinxiannailao', 'guangmingchunniunaixiangnong35', 'niunai_caomeiwei_kafupai', 'gaogaigaotienaifen_keqipai', 'mengniudizhitezaocannailao', 'quechaoquanzhitiannaifen', 'niuru_lebaishipai', 'yilizaocangaogainailao', 'weiquanyoulaorusuanniunai_jiankangculianghihilanmeikouwei', 'kashixianlaoru', 'guangmingjiannengcaomeiguolisuanniunai', 'guangminghongzaosuannai', 'mengniutongzhuangyuanweisuanniunai', 'yiliyishengjunsuanniunai', 'guanyiruguanjunyoulaorusuanniunai_yuanwei', 'fde25211', 'fdf9f228', 'guangming90hituozhixianniunai', 'yiliyuanweizaocannailao', 'guangminghanfangcaobensuanniunai', 'danengyuanweisuanniunai', 'yingernaifen', 'kashihixianlaoruhiguoweisuanniuru_sumi', 'quanzhinaifen_yilipai', 'MeadowFreshdizhigaogainai', 'xiaoxiaoguangmingjiankangchengchangnailao', 'quechaoquanshinai_qiaokeliwei', 'DrOetkerhiOnkentuozhisuannai', 'guangmingnailaojingdianhuangbozhishipian', 'danengTaillefinetuozhisuannai', 'yiligaogainailao', 'niuru_qianghuaxin_gai_pamalate', 'faguobaijifujianzhizhishipian', 'guangmingbaixuesuanniunaixinxianbei', 'xiaobaicai', 'dabaicai_junzhi', 'fanqie', 'huanggua', 'piaoerbai', 'xilanhua', 'baicaitai', 'bailuobo', 'jieqiuganlan_zi', 'caihua', 'nangua', 'huluobo_hong', 'shengcai_niuli', 'yingtaofanqie', 'donggua', 'zhusun', 'huluobo', 'ganlan', 'bici', 'bocai', 'lvdouya', 'qiezi_junzhi', 'wandoumiao', 'qincai_baijing', 'wengcai', 'yuxingcao', 'xiaocong', 'lajiao_qing_jian', 'yangcong', 'ou', 'ganlan', 'zao_xian', 'zao_gan', 'zhusun', 'bici', 'muer_shuifa', 'ganjie_junzhi', 'bocai', 'boluo', 'huolongguo', 'caomei', 'mangguo', 'lvdouya', 'xianggu', 'qiezi_junzhi', 'hamigua2', 'tiangua', 'lizi', 'haidai_jin', 'qincai_baijing', 'wengcai', 'putaoyou_taiwan', 'yuxingcao', 'muer_gan', 'wandoumiao', 'xiaocong', 'putaogan', 'lajiao_qing_jian', 'yangcong', 'jinzhengu', 'ou', 'hongtiziputao', 'haidai', 'lizhi', 'shengcai_yeyongwoju', 'jieqiuganlan_lv', 'yingtao', 'huangdouya', 'kugua', 'xiaoyejie', 'doujiao', 'qincaijing', 'ehuangli', 'sigua', 'jufengputao', 'bailangua', 'manaiziputao', 'sangren_junzhi', 'zicai_gan', 'guoguangpingguo', 'sijidou', 'wosun', 'changbali', 'yiner_gan', 'zao_gan_da', 'xing', 'yangmei', 'hongguo', 'sangren_hong', 'shuiqincai', 'jiucai', 'ziputao', 'xigua_jingxinyihao', 'lizixing', 'xihulu', 'huangxiangjiaopingguo', 'youcaixin', 'sangren_gan', 'xiqin', 'fanshiliu', 'muer_shuifa', 'xianggu', 'haidai_jin', 'muer_gan', 'jinzhengu', 'haidai', 'zicai_gan', 'yiner_gan', 'pinggu', 'jitucong', 'xianggu_gan', 'baimogu', 'caogu', 'koumo_baimo', 'chashugu_gan', 'xingbaogu', 'jinzhengu_guanzhuang', 'shuangbaomogu', 'jituigu_gan', 'luoxuanzao_gan', 'xingren', 'hetao_xian', 'huangdou', 'maodou', 'doufugan_xianggan', 'kuihuazi_naiyouxiangguazi', 'youdoufu', 'doujiangfen', 'doufu_neizhi', 'xingren_da', 'shanhetao_shu', 'huasheng_kao_mirixingpai', 'kaixinguo_shu', 'suji', 'heidou', 'doufugan_lugan', 'yaoguo_shu', 'xiguazi_chao', 'fuzhu', 'huashengren_youzha', 'diyi_shuijin', 'yangdujun', 'jitucong_youzha', 'xuehonggu_gan', 'zhenmo_shuifa', 'bainiuganjun_gan', 'zhenmo_gan', 'bainiuganjun', 'huangmo_shuifa', 'waitrosemogutang', 'xingren_yuanweiquanbu', 'lizi_xian', 'kuihuazi_chao', 'nanguazi_chao', 'doufugan_caigan', 'legounongdoujiang', 'xiguazi_huamei', 'huangdoufen', 'doufujuan', 'xiguazi_shu', 'xingren_chao', 'xingren_kaogan_bujiayan', 'doufusi_you', 'baiguo_gan', 'qiaqiaxiangguazi2', 'nanguaziren', 'zhenzi_gan', 'zhimazi_bai', 'doufugan_xungan', 'suhuotui', 'xingren_shu_daike', 'maohetao', 'zhenziren_shu', 'songzi_chao', 'zhenzi_chao', 'xingren_shu_quke', 'xusongnadou', 'lizi_hebeiqianxi', 'doufugan_pubaogan', 'taoren', 'songziren', 'doufugan_chougan', 'xingren_guoyouzhagan', 'doufusi_gan', 'zhenzi_shu', 'baiyuwutangdoujiang_jiatinghao', 'kuihuazi_shu', 'xiangfei_shu', 'qianshimi', 'xingren_piaobaihou', 'songzi_shu', 'lizi_shandong', 'dounaifen_duolipai', 'fdef9621', 'fdb77a00', 'nanfangwutangheizhimahu', 'xiguaziren', 'douzhi_sheng', 'gutongtaishisuxiangchang', 'lizi_beijingmiyun', 'yinyongshui', 'kafeifen', 'maisiweieryuanweikafei', 'kuangquanshui', 'pijiu_junzhi', 'zhenzhunaicha', 'tianfumingchapailvchafen', 'lvcha', 'ningmengzhi', 'jiangmijiu', 'hongjiu', 'chashui', 'chengzhiyinliao_huiyuanpai', 'fdee4440', 'fd149b3f', 'fd755b55', 'fd46aa5b', 'kangbaolaidanbaihunheyinliao', 'sifangxiaochuxingrenfen', 'ganzhezhi', 'tieguanyincha', 'kekefen', 'shuirongC100ningmengzhi', 'hongputaojiu', 'hongcha', 'tongyifuleinaicha-jingdianmaixiang', 'quechaoyuanyeditanglvcha', 'zhengzongyeshupaiyezhi', 'fdf96dfc', 'fde140ed', 'fd254263', 'fda1dc8b', 'fd68003b', 'xingrenlu', 'fdc9230d', 'fuleilvnaichahixianlvmoxiangkouweihi', 'bingchuankele', 'fdae59f0', 'fd040161', 'xile_rusuanyinliao', 'chengzhiqishui', 'fdc3f2b1', 'kafeidou', 'shiquanpingguocu', 'weitanai_dizhidounai', 'qixi', 'chengzhiyinliao_guangmingpai', 'kangshifulvcha_ditang', 'maishidiancangMAXIMyuanweikafei', 'quechaobingshuangchabingjiningmengweilvchayinliao', 'maisiweierzhichunkouweikafei', 'dantepaifengmiyouzicha', 'juzizhi', 'yezizhiyinliao', 'kangshifumoliqingcha', 'tongyilvcha_ditangmolihuawei', 'sandeliwulongchahiwutanghi', 'kangshifumolimicha', 'huacha', 'huluobozhiyinliao', 'pingguozhiyinliao_guangmingpai', 'hongguozhi', 'guliguliyuminanguanongjiang', 'zizhifengmiyouzicha', 'fd10a519', 'putaojiu_ganhong_12_zhangyupai', 'mengniuguoshusuansuanru', 'huiyuanchengzhiyinliao', 'qiaokelidounai', 'damaicha', 'nongfuchalongjinglvchayinpin-ditang', 'weijiapaifengmiyouzicha', 'huierkangpaiguliguliyanmainongjiang', 'ningmengcha', 'huiyuan100pingguozhi', 'meizhiyuanguolicheng2', 'hihuierkangguliguliqiaomainongjiang', 'suanruyinliao', 'qilinwuhouhongchanaichayinliao-dizhifang', 'putaojiu_ganhong_115_changchengpai', 'pijiu_43_qingdaopai', 'nanguopaisurongyezifen', 'chongminglaobaijiu', 'kuerxiangchengzhi', 'keguomeichunzhengfanqiezhi', 'hanbohongzaoajiaonongjiang', 'kafuguozhentianchengwei', 'meiquesiyenai', 'huangjiu', 'xueli', 'sangren_bai', 'mingyueli', 'ximei', 'hongmeiguiputao', 'hongyuanshuaipingguo', 'lanmei', 'yindupingguo', 'wuhuaguo_gan', 'mitao', 'zhimayou', 'selayou', 'huashengyou', 'douyou', 'hunheyou_caizong', 'kuihuaziyou', 'ganlanyou', 'caiziyou', 'lajiaoyou', 'jinlongyushiyongdiaoheyou', 'zhuyou_banyou', 'yumiyou', 'xiangyou', 'huangyou', 'ouliweilantejichuzhaganlanyou', 'jinlongyuyumiyou', 'humayou', 'sumiyou', 'chayou', 'fdbbf710', 'damayou', 'jiazhixuanpaiganlanyou', 'xiangyou13', 'kannuolajiankanghuangyou', 'olivoilachuzhaganlanyou', 'rongshichunyumiyou', 'anjiadannaiyou', 'huangyouzha', 'guangmingzhiwuhuangyou2', 'quechaosanhuaquanzhidannai', 'zonglvyou', 'maiyayou', 'youchaziyou', '_AGIAaqianyachunganlanyou', 'Somerfieldchuncaiyou', 'yangyou', 'mianziyou', 'baituo_shipingongye', 'zhujiangqiaopaixiaomozhimayou', 'yayou_lian', 'hetaoyou', 'yeziyou', 'tongyichunganlanyou', 'suyou', 'HOMEBRANDxiannaiyou', 'Allowuiehizerohuangyou', 'youcaizizhiwuhuangyou', 'mikangyou', 'kalalitejiganlanyou', 'yangyou_lian', 'yingerpeifangnaifen_wandashanpai', 'PAMSchaodanganlanyou', 'yingerpeifangnaifen_shengyuanpai', 'honghuayou', 'fd7654fd', 'fdfbdaa7', 'fdff787b', 'changshengtejichuzhaganlanyou', 'fdeb1c8b', 'fd675235', 'fd530cb1', 'fd44c875', 'fdb72e22', 'fd6f8381', 'fd98ba39', 'fd6d9057', 'fda3e055', 'fdc39405', 'fd9d8467', 'fd4ab052', 'anjiahuangyou_youyan', 'fd3a32d9', 'fd44c710', 'fd68fce3', 'fdbd53be', 'fd4f7af3', 'fd7f0621', 'fd1e8100', 'changbaigongfanghiyoujiyingyou', 'fd3bbfb7', 'fdc389a0', 'fd59f393', 'fd371554', 'fdcb7581', 'fdf20906', 'fd6245ac', 'fdca4961', 'changbaigongfanghiyoujinanguaz', 'LandhiOhiLakeshilanduohuhipens', 'fdda04f9', 'fd085d35', 'fd4f7014', 'fd4dd770', 'fd65d63f', 'duomeixianhisukihiwuyanhuangyo', 'fd50785d', 'fd3ea0de', 'fde111e9', 'xueyinhuangyou', 'fd10cd00', 'fengmi', 'baishatang', 'fengmi_huaihua', 'hongtang', 'zhacai', 'jiangyou_junzhi', 'cu_junzhi', 'zhimajiang', 'furu_hong', 'furu_bai', 'huashengjiang', 'hongdousha', 'lajiaojiang', 'weijing', 'zhacai_yuquanpai', 'bingtang', 'jijing', 'fanqiejiang', 'mianbaitang', 'jingyan', 'shalajiang', 'doubanjiang', 'dousha', 'zhacai_zhenglinpai', 'tianmianjiang', 'jianghuanggua', 'qiandaoshalajiang', 'xuecai', 'fanqieshasi', 'baicu', 'pingguojiang', 'gongdaoganlancai', 'lajiaofen', 'fengmi_youcaihua', 'suanronglajiang', 'hujiaofen', 'axuelihong', 'caomeijiang', 'wuxiangdouchi', 'doubanjiang_layou', 'furu_xianglawei', 'niuroujiang_axiangpo', 'hongdouxian', 'doubanlajiang', 'malajiang', 'zaodoufuru', 'guanglexianglaxiancai', 'furu_chou', 'jiangyou_gaoji', 'chencu', 'duolajiao', 'kalifen', 'xiangyoulajiang', 'jianghuashengmi', 'shengchou', 'jiangyou_sanxian', 'taiguchunzhengfangtang', 'suantou_tian', 'fengmi_yingmi', 'yuquanzhacaihidiyanhi', 'haixianjiang_axiangpo', 'mianbaoxie', 'jialenongtangbao', 'congbanlvdajiang', 'heliosguoaicaomeiguojianghiwutanghi', 'niutoupaishachajiang', 'huangjiang', 'furu_bai_wangzhihepai_jiangdoufu', 'tianlahuanggua', 'jiangyou_yiji', 'meijisuanlatangliao', 'shijincai', 'wuxiangfen', 'xiangcu', 'jiangdatoucai', 'yuzijiang', 'yuquanpaixianxiangzhacai', 'jialefanqieshasi', 'laochou', 'furongxianshutang', 'huajiao', 'luobogan', 'SMUCKERhiShongshumeiguojiang', 'TEDDIEhiPEANUThiBUTTERhihiCHUNKYhi', 'niuroulabanjiang', 'furu_bai_shibaozhaipai_jiangdoufu', 'jiangyou_duowei', 'jiangmogu', 'suanlazicaitang', 'babaocai', 'ajiecaitou', 'jialepainongtangbao_niurouwei', 'wuxiangcu', 'jialepainongtangbao_nonghuayutang', 'huangdoujiangyou', 'guangmingnailaojiang_yuanwei', 'ajiucaihua', 'huashengjiang_jiaqiaokeli', 'jialepaihaixiantang', 'haihuisibaicaidoufuru', 'fdd2b2b1', 'fd5f7db9', 'binggan_junzhi', 'dangao_huangdangao', 'baohesongrenzongzitang', 'qiaokeli', 'bingqilin', 'diguagan', 'ganlaohanbaobao_jiaxunrou_jiadiaoliaojiang', 'lvdoubing', 'sudabinggan', 'mahua', 'naiyoudangao', 'jiameizhenzhihuamei', 'yuebing_dousha', 'shanchaguodanpi', 'dangao_junzhi', 'shaqimadansu', 'ganlaohanbaobao_putongxing_jiadancengroubing_wudiaoliaojiang', 'lvdougao', 'xishidangao', 'shanchaqiu', 'defuxiangnongheiqiaokeli', 'jiaxinsubing', 'yuebing_wuren', 'guoba_douxiang', 'guoba_xiaomi', 'shupian_shaokaowei', 'binggun', 'banyousubing', 'qiaokeli_weifu', 'naitang', 'quqibing', 'dangao_qiaokeli', 'naiyoubinggan', 'supigaodian', 'heluxuelvdoumeimeibinggun', 'mianbaotiao_bai', 'shutiao_kendeji', 'taosu', 'shixinglongyouyusi', 'bailebaoqiaokelixuegao', 'daxuegao', 'binggan_sudajiaxin', 'haoliyoudanhuangpaihizhuxindanhuangpaihi', 'heluxuehongdoubinggunhi', 'niunaitang', 'taipingshudabinggan-haitaikouwei', 'jizhiweigancuimian_mianbingdiaoweiliao', 'candou_zha', 'qiaokeli_hei', 'quqibing_jianaiyou', 'suxianglanhuadou', 'jinsechuanqiyouyusi', 'maidanglaoshutiao_zhong', 'xuemibing', 'dangao_shuiguo', 'sutang', 'shuijingtang', 'haitai', 'maidanglaocuishubing', 'weiweijiaoyijiao_putaoganhuasheng', 'danengjiagainiunaitiansubingganniunaikouwei', 'niunaibinggan', 'babaozhou_wutang_wahahapai', 'wangwangxuebing_xianglawei', 'shupian_xianglawei', 'bingqiling_cuipitiantong', 'binggan_xian', 'yuebing_zaoni', 'jibailiyikoulian', 'zhishenajiaomizao', 'mimahua', 'huntanggaodian', 'bingqiling_qiaokelishengdai', 'xianfugaoxianxiaohuabinggan', 'hanguobaomihua', 'leshishupianxiannongfanqiewei', 'yuebing_naiyoulianyun', 'huashengzhimatang', 'defuzhenrenqiaokeli', 'qiaokeli_guoren', 'xiantaoguozhitang', 'caijicuixianghuashengsu', 'defuniunaiheheiqiaokelijingqiaozhuang', 'haoliyouhidanhuangpaihisuannaiweihi', 'xinjiayuankaomoguobabisafengwei', 'bangbing_kelebing', 'dabaituhongdounaitang', 'yuebing_baishouyandian', 'shuiguoweiruantang', 'shiyuechuwufenglisu', 'fdc87912', 'fd22465c', 'fdc9f189', 'babaozhou_kangshifupai', 'daliyuangaoxianculiangbing', 'yifengyupihuasheng', 'bingqiling_caomeishengdai', 'shiyuechuwunaiyoujidanjuan', 'maidanglao_maixiangji', 'youmianjin', 'fdd5a4c8', 'fde5aa7e', 'fde63ca9', 'gouqizi', 'chenpi', 'huafen_youcai', 'gegen', 'alasijiakanglishiluoxuanzaofuhepian', 'meiguoGBNjinkoudanbaizhifen', 'huafen_yousong', 'alasijiakanglishiruqingdanbaifen_xiangcaowei', 'juhua', 'huafen_qiaomai', 'niucuilaiguoshuxianweisujiaopian', 'alasijiakanglishimeiguiguotiquwufuhepian', 'baohe_xian', 'fd2282d7', 'fd621cc5', 'canyong', 'jinripaigaoyingyangdanbaizhifen', 'mifen_quechao', 'rougui', 'fulian', 'ruergao', 'DHCnongsuoshanshixianweifen', 'luohanguo', 'mifen_shucai_hengshi', 'fddda2aa', 'guangmingpaiqiedayuanweizhishipian', 'she_junzhi', 'zisu_xian', 'zaoren', 'hengshipaiyingeryingyangmifenDHAshucaikouwei', 'tianranyuanpijiujiaomufuheyingyangpianhanBzuweishengsu', 'mifen_gaodanbai_quechao', 'mifen_gaodanbai_hengshi', 'alasijiakanglishiguwutiquwufuhepian_hanquanjiafuduozhongweishengsu', 'yingeryingyangfen', 'meiguoxianyaqiyizi', 'yingernaigao', 'baohe_gan', 'gancao', 'mifen_huluobo_hengshi', 'dongchongxiacao', 'yingyangruergao', 'alasijiakanglishimulitiquwuruanjiaonang_hangai', 'mifen_zhuganshucai_hengshi', 'youshanaxianweisu_shuimitaomangguo', 'jiganshucaini_hengshi', 'mifen_yuroushucai_hengshi', 'baizhi', 'jueming_xian', 'jianchangmingliezi', 'xiezi', 'mifen_huluobo_quechao', 'mifen_fanqie_hengshi', 'tangchenbeijiandanbaihunheyinliao', 'gaizhigaofen', 'mifen_shucai_quechao', 'gaoliangjiang', 'mifen_pingguo_quechao', 'huajiaoye_gan', 'jianerfen', 'alasijiakanglishiguwutiquwufuhepian', 'honghua', 'alasijiakanglishixiaomaipeiyayouruanjiaonang', 'lianzijianerfen', 'fengyong', 'mufei', 'youshanaxianweisu_xingrenkouwei', 'fengyong_dahuangfeng', 'zisu', 'cheqianzi_xian', 'sharen', 'hexiangye_xian', 'fengyong_youfeng', 'xianrenzhang_shiyong', 'dingxiang', 'huzhang_xian', 'laifuzi', 'hexiang', 'fd9d2939', 'fdb387b0', 'fd4579f7', 'minguihaizhesi', 'fd99548b', 'fded2dae', 'jiakanglidadoudanbaizhifen_xia', 'fd29e499', 'fd2ec127', 'fd756a4a', 'fd4569bf', 'fda787c5', 'silimeiticanbang_caomeibaiqiao', 'fd49bc06', 'xinshilihiyoujisushimian_huluo', 'yapeijinzhuangxikangbaoxingyin', 'fd64a10f']
# 菜品名称
names=['chaoqingcai', 'fanqiechaodan', 'qingzhengjidangeng', 'lvdoutang', 'suchaoxiaobaicai', 'shaoqiezi', 'lvdouzhou', 'xiangguqingcaibaozi', 'danchaofan', 'hongshaoyu', 'yanshuixia', 'chaolvdouya', 'congyoubing', 'qingchaoxihulu', 'xihongshijidanmian', 'suanlatudousi', 'hongshaorou', 'jiucaibaozi', 'lujidan', 'qingchaotudousi', 'shaomai', 'chaodabaicai', 'xihongshijidantang', 'dabing', 'qingzhengyu', 'suancaiyu', 'shousijuanhihifebruaryzizhi', 'mapodoufu', 'niuroumian', 'shaobaocaisi', 'suanlafen', 'qingjiaochaojidan', 'suchaoqincai', 'zizhizongzi', 'jiaoyoubanhaidai', 'laoyumibing', 'shucaishala', 'qingchaojuanxincai', 'suanweishaoqiezi', 'hongshaodapai', 'zaliangjianbing', 'yumitangxiaomizhou', 'rousongmianbao', 'doushabao', 'majiangbanhuanggua', 'qingbanhuanggua', 'hongshaodaiyu', 'xiapidongguasi', 'zhenzhunaicha', 'hongshaojikuai', 'honglujizhua', 'yangzhoudanchaofan', 'chaotudousi', 'niuroubaozi', 'chaomian2', 'jiucaichaolvdouya', 'qiancengbing', 'caijianbing', 'chaohuluobopian', 'qingchaoyoumaicai', 'hongshaodoufu', 'hongshaoqiezi', 'suanronghaidai', 'shaohuacai', 'huangguachaodan', 'qingzhengdangeng', 'chaojiangdou', 'kalijikuaitudou', 'suchaocaihua', 'roupianchaocaihua', 'jiucaichaojidan2', 'wuxiangchadan', 'siguachaodan', 'rousijiaobai', 'xiarenzhengchangfen', 'roupianchaoqingjiao', 'wuxiangyarou', 'tudoushaorou', 'lajiaochaokugua', 'zhahuashengmi', 'yangbaicaibaozi', 'shousi', 'yuxiangqiezi', 'hetaosu', 'wutangyinertang', 'suanbanlvdouya', 'liangbanhaidaisi', 'paojiaofengzhua', 'kaojichi', 'qingjiaochaohuacai', 'zizhidoujiang_wutang', 'chidouzongzi', 'hongshaojiyu', 'zizhiqiaomaimantou', 'hongdoubao', 'shuizhuyupian', 'shuizhuhuashengmi', 'zizhijiucaixiapixianbing', 'suanweishengcai', 'suanrongxilanhua']



#接口的请求头
headers={
    'Connection': 'keep-alive',
    'Pragma': 'no-cache',
    'Cache-Control': 'no-cache',
    'User-Agent': 'Mozilla/5.0 (Linux; Android 11; 21051182C Build/RKQ1.200826.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/92.0.4515.166 Safari/537.36 App/boohee/7.5.6',
    'token': 'Wwq3kjpeyPp7DmDv2zsVVFp5Gqw3N19u',
    'Content-Type': 'application/json',
    'Accept': '*/*',
    'Origin': 'https://foodie.boohee.com',
    'X-Requested-With': 'com.boohee.one',
    'Sec-Fetch-Site': 'same-site',
    'Sec-Fetch-Mode': 'cors',
    'Sec-Fetch-Dest': 'empty',
    'Referer': 'https://foodie.boohee.com/',
    'Accept-Encoding': 'gzip, deflate',
    'Accept-Language': 'zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7'
}
#请求超时重连
def gethtml(url):
  i = 0
  while i < 3:
    try:
      html = requests.get(url, timeout=(5,5),headers=headers)
      return html
    except requests.exceptions.RequestException:
      i += 1

#连接数据库
connect = pymysql.connect(host="localhost", port=3306, user="root", password="123456++q", database="icebox",
                          client_flag=10, charset="utf8mb4")
cursor = connect.cursor()

def insert(html):
    #使用正则表达式匹配
    reliang = re.findall('<span class="stress red1">(.*?)</span>', html)[0]
    tan = re.findall('碳水化合物\(克\)</span><span class="dd">(.*?)</span></dd>', html)[0]
    zhi = re.findall('脂肪\(克\)</span><span class="dd">(.*?)</span></dd>', html)[0]
    dan = re.findall('蛋白质\(克\)</span><span class="dd">(.*?)</span></dd>', html)[0]
    xian = re.findall('纤维素\(克\)</span><span class="dd">(.*?)</span></dd>', html)[0]
    title = re.findall('(<h2 class="crumb"><a href="/food/">薄荷食物库</a> /)([\s\S]*)(</h2>)', html)[0]
    title = re.findall('>(.*?)<', str(title))
    pic = re.findall('<a href=\'([\s\S]*)\' class="lightbox"', html)[0]
    type = title[3]
    name = re.findall('/ (.*?)\\\\n', title[4])[0]
    # 插入数据库
    sql="INSERT INTO foods (type,name,re,tan,zhifang,dan,xian,pic) \
                VALUE('%s','%s','%s','%s','%s','%s','%s','%s')" \
                % (type,name,reliang,tan,zhi,dan,xian,pic)
    cursor.execute(sql)
    connect.commit()

for name in names:
    html = requests.get('http://www.boohee.com/shiwu/'+name).text
    try:
        insert(html)
    except:
        print('错误>>'+name)


def insertInfo(json):
    scenes=json['scenes']
    health_label=json['basic_section']['health_label']
    ingredient_section=json['ingredient_section']
    name=json['basic_section']['name']
    sql = "UPDATE foods SET scenes=%s,health_label=%s,ingredient_section=%s WHERE name=%s"
    update_data = [scenes, health_label,ingredient_section,name]
    # update_data = [str(scenes), str(health_label),str(ingredient_section),str(name)]
    cursor.execute(sql, update_data)
    connect.commit()
    print(str(name)+'修改成功')
#开始修改食品
for name in names:
    myjson=json.loads(gethtml('https://food.boohee.com/fb/v2/foods/'+str(name)+'/detail?tenant=null&platform=app').text)
    try:
        insertInfo(myjson)
    except:
        print('错误>>'+name)

